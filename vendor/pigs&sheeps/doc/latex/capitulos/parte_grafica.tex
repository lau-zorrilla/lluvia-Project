\section{Parte gráfica}
\label{chap:grafica}

\subsection{Front-end (HTML/CSS)}
\label{sec:front_end}

Esta aplicación multiplataforma ha sido diseñada para ser lanzada desde cualquier navegador. La página tendrá como dimensiones 1200 x 800. 
Está al iniciarse muestra dos controles, botón Play y botón Menú. Ver figura \ref{fig:figura313} en página \pageref{fig:figura313}.\\

El botón Play inicia el juego mostrando una pantalla en la que aparecen un cerdito y un rebaño de ovejas. El cerdito hace la labor de pastor, 
teniendo que meter un número determinado de ovejas en el corral para poder pasar al siguiente nivel. 
En la esquina superior izquierda se encuentra el cronómetro, inicializado en dos minutos y realiza la cuenta atrás hasta llegar a cero.
A la derecha de éste se encuentra un contador, que irá aumentando según el número de ovejas que vayan entrando en el redil.
En la esquina superior izquierda está situado el menú de la aplicación que está compuesto por las siguientes opciones:

\begin{itemize}
 \item Instructions: Donde se explica el funcionamiento del juego.
 \item Restart level: Permite reiniciar el nivel.
 \item Levels: Muestra los niveles del juego que se irán desbloqueando según se vayan superando.
\end{itemize}

A su izquierda se sitúa el botón para activar y desactivar la música de fondo. La imagen de éste variará dependiendo de si la música 
está en reproducción o en silencio.\\

El diseño de la página principal tuvo varios procesos. La evolución que siguió está representada en las imágenes: figura \ref{fig:figura311}, figura \ref{fig:figura312} y 
figura \ref{fig:figura313}.


\subsection{Canvas}
\label{sec:canvas}

El elemento Canvas  de HTML5 es un contenedor gráfico que  proporciona a los scripts  un mapa de bits  que funciona como lienzo.
Lo primero que se debe de hacer es referenciar el elemento Canvas dándole unas dimensiones, 851 x 424 (ancho y largo) y adquirir su contexto.
En este caso hemos utilizado un contexto bidimensional (2D).\\

Dentro del archivo HTML es necesario incluir en la 
etiqueta body llamar a la función Bring\_LLuvia().\\

El lenguaje de programación Javascript contiene una serie de funciones propias que nos permiten  a través de coordenadas dibujar en el Canvas.
Estas son algunas de ellas.

\begin{itemize}
 \item beginPath():  Con esta función se da por comenzado el trazo.
 \item moveTo(x, y): Coloca el cursor en el punto de inicio y a partir de ahí, se va creando la forma de la figura a través de las distintas 
 funciones.
 \item lineTo(x, y): Traza líneas rectas desde una coordenada a otra.
 \item fill(): Dibuja una forma cerrada con el color de relleno actual. Si la forma no está cerrada, la propia función crea una línea recta 
 desde el punto de inicio  al punto final para cerrarla.
 \item arc(x, y, radio, ángulo inicial, ángulo final, sentido de giro):  Se utiliza para dibujar circunferencias y arcos.
 \begin{enumerate}
 \item x, y: Son las coordenadas del centro de la circunferencia.
 \item Radio: Radio de dicha circunferencia.
 \item Ángulo inicial y ángulo final: Marca la amplitud del arco desde el ángulo inicial al ángulo final en el sentido de las agujas del reloj. Los ángulos se miden en radianes. 
 La equivalencia con los grados nos la da esta expresión:\\
 radianes = (Math.PI/180)*grados
 \item El sentido de giro tiene el valor lógico cierto, el arco irá en sentido contrario a las agujas del reloj. Este último parámetro es 
 opcional y por defecto su valor es falso.
 \end{enumerate}
 \item closePath(): Crea una línea recta desde el último punto al punto inicial. Da por finalizada la figura.
\end{itemize}

Gracias a HTML5, CSS3 y Javascript, hemos podido realizar tanto el fondo del juego, como las figuras que representan a los personajes.
Al igual que en la pantalla principal, los elementos del Canvas han sufrido varios procesos, a medida que se ha ido mejorando la técnica de creación, éstos han ido cambiando.
Se puede ver un ejemplo en las figuras \ref{fig:figura321} (página \pageref{fig:figura321}), \ref{fig:figura322} (página \pageref{fig:figura322}), 
\ref{fig:figura323} (página \pageref{fig:figura323}), \ref{fig:figura324} (página \pageref{fig:figura324}) y \ref{fig:figura325} (página \pageref{fig:figura325}).
